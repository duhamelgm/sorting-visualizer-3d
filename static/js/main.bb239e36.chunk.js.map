{"version":3,"sources":["actions/sort.actions.js","utils/sort.js","utils/animator.js","actions/cubes.actions.js","utils/cubes.js","utils/map.js","components/HeaderAlgorithmSelector.js","components/Header.js","components/MeshCube.js","components/Camera.js","components/Controls.js","components/Scene.js","App.js","serviceWorker.js","reducers/cubes.reducer.js","reducers/sort.reducer.js","reducers/main.reducer.js","configureStore.js","index.js"],"names":["setAnimator","animator","type","payload","Animator","frames","console","log","length","this","playing","playFrame","index","stop","animations","setTimeout","time","setCubes","cubes","editCube","id","cube","generateCubes","amount","dispatch","getState","sort","Array","reduce","obj","_","value","istart","ostart","uuidv4","height","Math","floor","random","order","color","position","x","y","z","getRandomCubes","initialCubes","sortCubes","state","originalArray","array","cloneDeep","animation","swap","leftIndex","rightIndex","temp","newCubes","el","push","partition","left","right","pivot","i","j","recursiveSort","quickSort","Object","values","play","useStyles","makeStyles","theme","root","margin","spacing","width","maxWidth","backgroundColor","button","options","SimpleListMenu","classes","React","useState","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","className","Button","aria-haspopup","aria-controls","aria-label","onClick","event","currentTarget","endIcon","Menu","keepMounted","open","Boolean","onClose","map","option","MenuItem","key","selected","handleMenuItemClick","flexGrow","menuButton","marginRight","title","display","breakpoints","up","inputContainer","borderRadius","shape","fade","palette","common","white","marginLeft","inputRoot","inputInput","padding","transition","transitions","create","selectInput","Header","useDispatch","useSelector","onSortCubes","useCallback","onChangeAmount","e","parseInt","target","setAmountCubes","AppBar","Toolbar","Typography","variant","noWrap","InputBase","placeholder","onChange","input","connect","cubeId","cubeExist","cubePosition","useSpring","pos","geometry","mesh","boxBufferGeometry","attach","args","lineBasicMaterial","Camera","props","ref","useRef","useThree","setDefaultCamera","scene","useEffect","current","useFrame","updateMatrixWorld","set","lookAt","extend","OrbitControls","Controls","controlsRef","camera","gl","update","domElement","enableRotate","enablePan","maxDistance","minDistance","minPolarAngle","PI","maxPolarAngle","rotateSpeed","Consumer","store","style","enableDamping","dampingFactor","App","window","location","hostname","match","initialState","algorithms","algorithmSelected","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","thunk","configureStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.bb239e36.chunk.js","sourcesContent":["export const setAnimator = animator => ({\r\n  type: \"SORT_SET_ANIMATOR\",\r\n  payload: { animator }\r\n});\r\n","import _ from \"lodash\";\r\nimport { setCubes, editCube } from \"../actions/cubes.actions\";\r\n\r\nconst defaultComparator = (a, b) => (a.height > b.height ? -1 : 1);\r\n\r\nexport const quickSort = (\r\n  originalArray,\r\n  dispatch,\r\n  comparator = defaultComparator\r\n) => {\r\n  // immutable version\r\n  const array = _.cloneDeep(originalArray);\r\n  const animation = [];\r\n\r\n  function swap(leftIndex, rightIndex) {\r\n    var temp = array[leftIndex];\r\n    array[leftIndex] = array[rightIndex];\r\n    array[rightIndex] = temp;\r\n\r\n    const newCubes = array.reduce((obj, el, index) => {\r\n      obj[el.id] = {\r\n        ...el,\r\n        order: index\r\n      };\r\n\r\n      return obj;\r\n    }, {});\r\n\r\n    animation.push({\r\n      animations: () => {\r\n        dispatch(setCubes({ ...newCubes }));\r\n      },\r\n      time: 100\r\n    });\r\n  }\r\n  function partition(left, right) {\r\n    var pivot = array[Math.floor((right + left) / 2)], //middle element\r\n      i = left, //left pointer\r\n      j = right; //right pointer\r\n\r\n    animation.push({\r\n      animations: () => {\r\n        dispatch(\r\n          editCube(pivot.id, {\r\n            color: \"red\",\r\n            position: { ...pivot.position, x: 4 }\r\n          })\r\n        );\r\n      },\r\n      time: 300\r\n    });\r\n\r\n    while (i <= j) {\r\n      while (array[i].height > pivot.height) {\r\n        i++;\r\n      }\r\n      while (array[j].height < pivot.height) {\r\n        j--;\r\n      }\r\n      if (i <= j) {\r\n        swap(i, j); //sawpping two elements\r\n        i++;\r\n        j--;\r\n      }\r\n    }\r\n    return i;\r\n  }\r\n\r\n  function recursiveSort(left, right) {\r\n    if (array.length > 1) {\r\n      const index = partition(left, right); //index returned from partition\r\n\r\n      if (left < index - 1) {\r\n        //more elements on the left side of the pivot\r\n        recursiveSort(left, index - 1);\r\n      }\r\n      if (index < right) {\r\n        //more elements on the right side of the pivot\r\n        recursiveSort(index, right);\r\n      }\r\n    }\r\n    return array;\r\n  }\r\n\r\n  // Sort the entire array.\r\n  recursiveSort(0, array.length - 1);\r\n  return [array, animation];\r\n};\r\n","export class Animator {\r\n  constructor(frames) {\r\n    console.log(frames.length);\r\n\r\n    this.frames = frames;\r\n    this.playing = false;\r\n  }\r\n\r\n  play() {\r\n    this.playing = true;\r\n    this.playFrame(0);\r\n  }\r\n\r\n  playFrame(index) {\r\n    if (!this.playing || this.frames.length - 1 < index) {\r\n      this.stop();\r\n      return;\r\n    }\r\n\r\n    this.frames[index].animations();\r\n\r\n    setTimeout(() => {\r\n      index++;\r\n      this.playFrame(index);\r\n    }, this.frames[index].time);\r\n  }\r\n\r\n  stop() {\r\n    this.playing = false;\r\n  }\r\n}\r\n","import { setAnimator } from \"./sort.actions\";\r\nimport { getRandomCubes } from \"../utils/cubes\";\r\nimport { quickSort } from \"../utils/sort\";\r\nimport { Animator } from \"../utils/animator\";\r\n\r\nexport const setCubes = cubes => ({\r\n  type: \"CUBES_SET_CUBES\",\r\n  payload: { cubes }\r\n});\r\n\r\nexport const editCube = (id, cube) => ({\r\n  type: \"CUBES_EDIT_CUBE\",\r\n  payload: { id, cube }\r\n});\r\n\r\nexport const setAmountCubes = amount => dispatch => {\r\n  dispatch({\r\n    type: \"CUBES_SET_AMOUNT\",\r\n    payload: { amount }\r\n  });\r\n\r\n  dispatch(generateCubes(amount));\r\n};\r\n\r\nexport const generateCubes = amount => (dispatch, getState) => {\r\n  const state = getState();\r\n  const animator = state.sort.animator;\r\n\r\n  if (animator) {\r\n    animator.stop();\r\n    dispatch(setAnimator(null));\r\n  }\r\n\r\n  const cubes = getRandomCubes(amount);\r\n\r\n  dispatch({\r\n    type: \"CUBES_SET_INITIAL_CUBES\",\r\n    payload: {\r\n      initialCubes: { ...cubes }\r\n    }\r\n  });\r\n  dispatch(setCubes(cubes));\r\n};\r\n\r\nexport const sortCubes = () => (dispatch, getState) => {\r\n  const state = getState();\r\n  const cubes = Object.values(state.cubes.cubes);\r\n\r\n  let [result, animation] = quickSort(cubes, dispatch);\r\n\r\n  const animator = new Animator(animation);\r\n  animator.play();\r\n\r\n  dispatch(setAnimator(animator));\r\n};\r\n","import { map } from \"./map\";\r\nimport uuidv4 from \"uuid/v4\";\r\n\r\nexport const getRandomCubes = amount => {\r\n  return [...new Array(amount)].reduce((obj, _, index) => {\r\n    const id = uuidv4();\r\n    const height = Math.floor(map(Math.random(), 0, 1, 20, 150));\r\n\r\n    obj[id] = {\r\n      id,\r\n      order: index,\r\n      color: \"green\",\r\n      height: height,\r\n      position: {\r\n        x: 1,\r\n        y: height / 40,\r\n        z: 1\r\n      }\r\n    };\r\n\r\n    return obj;\r\n  }, {});\r\n};\r\n","export const map = (value, istart, istop, ostart, ostop) =>\r\n  ostart + (ostop - ostart) * ((value - istart) / (istop - istart));\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    margin: theme.spacing(0, 4),\r\n    width: \"100%\",\r\n    maxWidth: 140,\r\n    backgroundColor: \"inherit\"\r\n  },\r\n  button: {\r\n    width: \"100%\"\r\n  }\r\n}));\r\n\r\nconst options = [\"Quicksort\", \"Bubble\"];\r\n\r\nexport default function SimpleListMenu() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n  const handleClickListItem = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuItemClick = (event, index) => {\r\n    setSelectedIndex(index);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Button\r\n        className={classes.button}\r\n        aria-haspopup=\"true\"\r\n        aria-controls=\"lock-menu\"\r\n        aria-label=\"when device is locked\"\r\n        onClick={handleClickListItem}\r\n        color=\"inherit\"\r\n        endIcon={<ArrowDropDownIcon />}\r\n      >\r\n        {options[selectedIndex]}\r\n      </Button>\r\n\r\n      <Menu\r\n        id=\"lock-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {options.map((option, index) => (\r\n          <MenuItem\r\n            key={option}\r\n            selected={index === selectedIndex}\r\n            onClick={event => handleMenuItemClick(event, index)}\r\n          >\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAmountCubes, sortCubes } from \"../actions/cubes.actions\";\r\n\r\nimport HeaderAlgorithmSelector from \"./HeaderAlgorithmSelector\";\r\n\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\"\r\n    }\r\n  },\r\n  inputContainer: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25)\r\n    },\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: \"auto\"\r\n    }\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\"\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 1),\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\"\r\n  },\r\n  selectInput: {\r\n    padding: theme.spacing(1, 1, 1, 1),\r\n    color: theme.palette.common.white,\r\n    width: 150\r\n  },\r\n  button: {\r\n    marginLeft: \"auto\"\r\n  }\r\n}));\r\n\r\nconst Header = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const amount = useSelector(state => state.cubes.amount);\r\n\r\n  const onSortCubes = useCallback(() => {\r\n    dispatch(sortCubes());\r\n  }, []);\r\n\r\n  const onChangeAmount = useCallback(e => {\r\n    let value = parseInt(e.target.value);\r\n\r\n    if (value < 1 || !value) {\r\n      value = 1;\r\n    } else if (value > 100) {\r\n      value = 100;\r\n    }\r\n\r\n    dispatch(setAmountCubes(value));\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            Sorting 3D Visualizer\r\n          </Typography>\r\n\r\n          <HeaderAlgorithmSelector />\r\n\r\n          <div className={classes.inputContainer}>\r\n            <InputBase\r\n              placeholder=\"20\"\r\n              type=\"number\"\r\n              value={amount}\r\n              onChange={onChangeAmount}\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput\r\n              }}\r\n            />\r\n          </div>\r\n          <Button\r\n            color=\"inherit\"\r\n            onClick={onSortCubes}\r\n            className={classes.button}\r\n          >\r\n            Sort\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { connect, useSelector } from \"react-redux\";\r\nimport { Canvas, useFrame, useThree } from \"react-three-fiber\";\r\nimport * as THREE from \"three\";\r\nimport { useSpring, animated } from \"react-spring/three\";\r\n\r\nconst MeshCube = ({ cubeId, cubes, amount }) => {\r\n  const cube = cubes[cubeId];\r\n\r\n  const cubeExist = cube && Object.values(cube).length;\r\n\r\n  const cubePosition = cubeExist\r\n    ? [\r\n        cube.position.x,\r\n        cube.position.y,\r\n        cube.position.z + (cube.order * 1.8 - (amount / 2) * 1.8)\r\n      ]\r\n    : [0, 0, 0];\r\n\r\n  const { color, pos, geometry } = useSpring({\r\n    color: cubeExist ? cube.color : \"green\",\r\n    pos: cubeExist ? cubePosition : [0, 0, 0],\r\n    geometry: cubeExist ? [1, cube.height / 20, 1] : [1, 2, 1]\r\n  });\r\n\r\n  return (\r\n    <animated.mesh position={pos}>\r\n      <animated.boxBufferGeometry attach=\"geometry\" args={geometry} />\r\n      <animated.lineBasicMaterial attach=\"material\" color={color} />\r\n    </animated.mesh>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  cubes: state.cubes.cubes,\r\n  amount: state.cubes.amount\r\n});\r\n\r\nexport default connect(mapStateToProps)(MeshCube);\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useFrame, useThree } from \"react-three-fiber\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Camera = props => {\r\n  const ref = useRef();\r\n  const amount = useSelector(state => state.cubes.amount);\r\n\r\n  const { setDefaultCamera, scene } = useThree();\r\n  // Make the camera known to the system\r\n  useEffect(() => setDefaultCamera(ref.current), []);\r\n  // Update it every frame\r\n  useFrame(() => ref.current.updateMatrixWorld());\r\n\r\n  useEffect(() => {\r\n    //ref.current.scale.x = 0.002 * amount;\r\n    //ref.current.scale.y = 0.002 * amount;\r\n\r\n    ref.current.position.set(50, 50, 50); // all components equal\r\n    ref.current.lookAt(scene.position); // or the origin\r\n  }, []);\r\n\r\n  return <perspectiveCamera ref={ref} {...props} />;\r\n};\r\n\r\nexport default Camera;\r\n","import React, { useRef } from \"react\";\r\nimport { extend, useThree, useFrame } from \"react-three-fiber\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n\r\nextend({ OrbitControls });\r\n\r\nfunction Controls() {\r\n  const controlsRef = useRef();\r\n  const { camera, gl } = useThree();\r\n\r\n  useFrame(() => controlsRef.current && controlsRef.current.update());\r\n\r\n  return (\r\n    <orbitControls\r\n      ref={controlsRef}\r\n      args={[camera, gl.domElement]}\r\n      enableRotate\r\n      enablePan={false}\r\n      maxDistance={200}\r\n      minDistance={5}\r\n      minPolarAngle={Math.PI / 6}\r\n      maxPolarAngle={Math.PI / 2}\r\n      rotateSpeed={0.8}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Controls;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Provider, connect, ReactReduxContext } from \"react-redux\";\r\nimport { Canvas, useFrame, useThree } from \"react-three-fiber\";\r\n\r\nimport * as THREE from \"three\";\r\n\r\nimport MeshCube from \"./MeshCube\";\r\nimport Camera from \"./Camera\";\r\nimport Controls from \"./Controls\";\r\n\r\nconst Scene = ({ amount, cubes, initialCubes }) => {\r\n  return (\r\n    <ReactReduxContext.Consumer>\r\n      {({ store }) => {\r\n        return (\r\n          <Canvas style={{ width: \"100vw\", height: \"calc(100vh - 64px)\" }}>\r\n            <Provider store={store}>\r\n              <Camera />\r\n              <Controls enableDamping rotateSpeed={0.3} dampingFactor={0.1} />\r\n              {Object.values(initialCubes).map((cube, index) => {\r\n                if (!cubes[cube.id]) return \"\";\r\n\r\n                return <MeshCube key={index + cube.id} cubeId={cube.id} />;\r\n              })}\r\n            </Provider>\r\n          </Canvas>\r\n        );\r\n      }}\r\n    </ReactReduxContext.Consumer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  amount: state.cubes.amount,\r\n  cubes: state.cubes.cubes,\r\n  initialCubes: state.cubes.initialCubes\r\n});\r\n\r\nexport default connect(mapStateToProps)(Scene);\r\n","import React, { useEffect, useCallback } from \"react\";\nimport Header from \"./components/Header\";\nimport Scene from \"./components/Scene\";\n\nimport { useDispatch } from \"react-redux\";\nimport { generateCubes, sortCubes } from \"./actions/cubes.actions\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(generateCubes(30));\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <Scene />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\r\n  amount: 30,\r\n  cubes: {},\r\n  initialCubes: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"CUBES_SET_AMOUNT\": {\r\n      const { amount } = action.payload;\r\n\r\n      return { ...state, amount };\r\n    }\r\n    case \"CUBES_SET_INITIAL_CUBES\": {\r\n      const { initialCubes } = action.payload;\r\n\r\n      return { ...state, initialCubes };\r\n    }\r\n    case \"CUBES_SET_CUBES\": {\r\n      const { cubes } = action.payload;\r\n\r\n      return { ...state, cubes };\r\n    }\r\n    case \"CUBES_EDIT_CUBE\": {\r\n      const { cube, id } = action.payload;\r\n      const cubes = state.cubes;\r\n\r\n      if (!cubes[id]) return state;\r\n\r\n      cubes[id] = { ...cubes[id], ...cube };\r\n\r\n      return {\r\n        ...state,\r\n        cubes: { ...cubes }\r\n      };\r\n    }\r\n    default: {\r\n      return { ...state };\r\n    }\r\n  }\r\n};\r\n","const initialState = {\r\n  algorithms: [\"Quicksort\", \"Bubble\"],\r\n  algorithmSelected: 0,\r\n  animator: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SORT_SET_SELECTED_ALGORITHM\": {\r\n      const { index } = action.payload;\r\n\r\n      return { ...state, algorithmSelected: index };\r\n    }\r\n    case \"SORT_SET_ANIMATOR\": {\r\n      const { animator } = action.payload;\r\n\r\n      return { ...state, animator };\r\n    }\r\n    default: {\r\n      return { ...state };\r\n    }\r\n  }\r\n};\r\n","import cubes from \"./cubes.reducer\";\r\nimport sort from \"./sort.reducer\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport default combineReducers({\r\n  cubes,\r\n  sort\r\n});\r\n","import React from \"react\";\r\nimport { createStore, compose, applyMiddleware } from \"redux\";\r\nimport reducer from \"./reducers/main.reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst configureStore = () => {\r\n  const store = createStore(\r\n    reducer,\r\n    /* preloadedState, */ composeEnhancers(applyMiddleware(thunk)) // thunk required for async action creators\r\n  );\r\n\r\n  if (process.env.NODE_ENV === \"development\" && module.hot) {\r\n    module.hot.accept(\"./reducers/main.reducer\", () =>\r\n      store.replaceReducer(reducer)\r\n    );\r\n  }\r\n\r\n  return store;\r\n};\r\n\r\nexport default configureStore;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./configureStore\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}